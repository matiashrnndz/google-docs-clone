CREATE TABLE [dbo].[Content] (
    [Id] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Content] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Document] (
    [Id] [uniqueidentifier] NOT NULL,
    [Title] [nvarchar](max) NOT NULL,
    [CreationDate] [datetime] NOT NULL,
    [LastModification] [datetime] NOT NULL,
    [Creator_Email] [nvarchar](128) NOT NULL,
    [StyleClass_Name] [nvarchar](128),
    CONSTRAINT [PK_dbo.Document] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Creator_Email] ON [dbo].[Document]([Creator_Email])
CREATE INDEX [IX_StyleClass_Name] ON [dbo].[Document]([StyleClass_Name])
CREATE TABLE [dbo].[User] (
    [Email] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](max) NOT NULL,
    [LastName] [nvarchar](max) NOT NULL,
    [UserName] [nvarchar](max) NOT NULL,
    [Password] [nvarchar](max) NOT NULL,
    [Administrator] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.User] PRIMARY KEY ([Email])
)
CREATE TABLE [dbo].[StyleClass] (
    [Name] [nvarchar](128) NOT NULL,
    [BasedOn_Name] [nvarchar](128),
    CONSTRAINT [PK_dbo.StyleClass] PRIMARY KEY ([Name])
)
CREATE INDEX [IX_BasedOn_Name] ON [dbo].[StyleClass]([BasedOn_Name])
CREATE TABLE [dbo].[Footer] (
    [Id] [uniqueidentifier] NOT NULL,
    [Content_Id] [uniqueidentifier],
    [DocumentThatBelongs_Id] [uniqueidentifier] NOT NULL,
    [StyleClass_Name] [nvarchar](128),
    CONSTRAINT [PK_dbo.Footer] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Content_Id] ON [dbo].[Footer]([Content_Id])
CREATE INDEX [IX_DocumentThatBelongs_Id] ON [dbo].[Footer]([DocumentThatBelongs_Id])
CREATE INDEX [IX_StyleClass_Name] ON [dbo].[Footer]([StyleClass_Name])
CREATE TABLE [dbo].[Format] (
    [Name] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.Format] PRIMARY KEY ([Name])
)
CREATE TABLE [dbo].[Header] (
    [Id] [uniqueidentifier] NOT NULL,
    [Content_Id] [uniqueidentifier],
    [DocumentThatBelongs_Id] [uniqueidentifier] NOT NULL,
    [StyleClass_Name] [nvarchar](128),
    CONSTRAINT [PK_dbo.Header] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Content_Id] ON [dbo].[Header]([Content_Id])
CREATE INDEX [IX_DocumentThatBelongs_Id] ON [dbo].[Header]([DocumentThatBelongs_Id])
CREATE INDEX [IX_StyleClass_Name] ON [dbo].[Header]([StyleClass_Name])
CREATE TABLE [dbo].[Paragraph] (
    [Id] [uniqueidentifier] NOT NULL,
    [Position] [int] NOT NULL,
    [Content_Id] [uniqueidentifier],
    [DocumentThatBelongs_Id] [uniqueidentifier] NOT NULL,
    [StyleClass_Name] [nvarchar](128),
    CONSTRAINT [PK_dbo.Paragraph] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Content_Id] ON [dbo].[Paragraph]([Content_Id])
CREATE INDEX [IX_DocumentThatBelongs_Id] ON [dbo].[Paragraph]([DocumentThatBelongs_Id])
CREATE INDEX [IX_StyleClass_Name] ON [dbo].[Paragraph]([StyleClass_Name])
CREATE TABLE [dbo].[Style] (
    [Id] [uniqueidentifier] NOT NULL,
    [Key] [nvarchar](max) NOT NULL,
    [Value] [nvarchar](max) NOT NULL,
    [Format_Name] [nvarchar](128) NOT NULL,
    [StyleClass_Name] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.Style] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Format_Name] ON [dbo].[Style]([Format_Name])
CREATE INDEX [IX_StyleClass_Name] ON [dbo].[Style]([StyleClass_Name])
CREATE TABLE [dbo].[Text] (
    [Id] [uniqueidentifier] NOT NULL,
    [TextContent] [nvarchar](max) NOT NULL,
    [Position] [int] NOT NULL,
    [ContentThatBelongs_Id] [uniqueidentifier] NOT NULL,
    [StyleClass_Name] [nvarchar](128),
    CONSTRAINT [PK_dbo.Text] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ContentThatBelongs_Id] ON [dbo].[Text]([ContentThatBelongs_Id])
CREATE INDEX [IX_StyleClass_Name] ON [dbo].[Text]([StyleClass_Name])
ALTER TABLE [dbo].[Document] ADD CONSTRAINT [FK_dbo.Document_dbo.User_Creator_Email] FOREIGN KEY ([Creator_Email]) REFERENCES [dbo].[User] ([Email]) ON DELETE CASCADE
ALTER TABLE [dbo].[Document] ADD CONSTRAINT [FK_dbo.Document_dbo.StyleClass_StyleClass_Name] FOREIGN KEY ([StyleClass_Name]) REFERENCES [dbo].[StyleClass] ([Name])
ALTER TABLE [dbo].[StyleClass] ADD CONSTRAINT [FK_dbo.StyleClass_dbo.StyleClass_BasedOn_Name] FOREIGN KEY ([BasedOn_Name]) REFERENCES [dbo].[StyleClass] ([Name])
ALTER TABLE [dbo].[Footer] ADD CONSTRAINT [FK_dbo.Footer_dbo.Content_Content_Id] FOREIGN KEY ([Content_Id]) REFERENCES [dbo].[Content] ([Id])
ALTER TABLE [dbo].[Footer] ADD CONSTRAINT [FK_dbo.Footer_dbo.Document_DocumentThatBelongs_Id] FOREIGN KEY ([DocumentThatBelongs_Id]) REFERENCES [dbo].[Document] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Footer] ADD CONSTRAINT [FK_dbo.Footer_dbo.StyleClass_StyleClass_Name] FOREIGN KEY ([StyleClass_Name]) REFERENCES [dbo].[StyleClass] ([Name])
ALTER TABLE [dbo].[Header] ADD CONSTRAINT [FK_dbo.Header_dbo.Content_Content_Id] FOREIGN KEY ([Content_Id]) REFERENCES [dbo].[Content] ([Id])
ALTER TABLE [dbo].[Header] ADD CONSTRAINT [FK_dbo.Header_dbo.Document_DocumentThatBelongs_Id] FOREIGN KEY ([DocumentThatBelongs_Id]) REFERENCES [dbo].[Document] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Header] ADD CONSTRAINT [FK_dbo.Header_dbo.StyleClass_StyleClass_Name] FOREIGN KEY ([StyleClass_Name]) REFERENCES [dbo].[StyleClass] ([Name])
ALTER TABLE [dbo].[Paragraph] ADD CONSTRAINT [FK_dbo.Paragraph_dbo.Content_Content_Id] FOREIGN KEY ([Content_Id]) REFERENCES [dbo].[Content] ([Id])
ALTER TABLE [dbo].[Paragraph] ADD CONSTRAINT [FK_dbo.Paragraph_dbo.Document_DocumentThatBelongs_Id] FOREIGN KEY ([DocumentThatBelongs_Id]) REFERENCES [dbo].[Document] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Paragraph] ADD CONSTRAINT [FK_dbo.Paragraph_dbo.StyleClass_StyleClass_Name] FOREIGN KEY ([StyleClass_Name]) REFERENCES [dbo].[StyleClass] ([Name])
ALTER TABLE [dbo].[Style] ADD CONSTRAINT [FK_dbo.Style_dbo.Format_Format_Name] FOREIGN KEY ([Format_Name]) REFERENCES [dbo].[Format] ([Name]) ON DELETE CASCADE
ALTER TABLE [dbo].[Style] ADD CONSTRAINT [FK_dbo.Style_dbo.StyleClass_StyleClass_Name] FOREIGN KEY ([StyleClass_Name]) REFERENCES [dbo].[StyleClass] ([Name]) ON DELETE CASCADE
ALTER TABLE [dbo].[Text] ADD CONSTRAINT [FK_dbo.Text_dbo.Content_ContentThatBelongs_Id] FOREIGN KEY ([ContentThatBelongs_Id]) REFERENCES [dbo].[Content] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Text] ADD CONSTRAINT [FK_dbo.Text_dbo.StyleClass_StyleClass_Name] FOREIGN KEY ([StyleClass_Name]) REFERENCES [dbo].[StyleClass] ([Name])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201805042304004_migration_1', N'RepositorySQLServer.Migrations.Configuration',  0x1F8B0800000000000400ED5DCD72DCB811BEA72AEF30C55392AAD548DECBC625ED962D591B576CCBD168F7EA828690C40A879C25395EE9D972C823E515020EFF40A0013448F0CFB5179745020D74E36B34F00DC0FEDF7FFE7BFED3F32E5C7DA5491AC4D185777672EAAD68B48DFD207ABCF00ED9C3773F783FFDF8E73F9DBFF377CFAB5FAB72DFE7E558CD28BDF09EB26CFF7ABD4EB74F7447D2935DB04DE2347EC84EB6F16E4DFC78FDEAF4F4EFEBB3B33565223C266BB53ABF3D4459B0A3C73FD89F9771B4A5FBEC40C28FB14FC3B47CCEDE6C8E52579FC88EA67BB2A517DE2DDDC76990C5C9CBE65F1F3634617DF7566FC280B0AE6C68F8E0AD4814C519C958475FFF92D24D96C4D1E366CF1E90F0EE654F59B90712A6B454E075531CABCBE9AB5C977553B1932DBC5A4BA6E73B668FEC25EFDE51D70B8F9924A351C61762C5FE495F5A0FD8A3CF49BCA749F6724B1FCAAAEF7D6FB56ED75B8B15EB6A5C9DBCF50BEFE743C0FEFFE91086E43EA4B5AD7881E7EBA6BB5A25AEE2ED6137572DE4EA774116D24A02C30DF3016FF5913C7FA0D163F674E1B1FF7AABEBE099FAD59352EC2F51C05C8655CA9203B56EF632A147145D91AC6E3DFFFF1DF3106B611F489A31270A1E826D094D5B819FC8D7E0F15817EA67CCBCED9686C7F7E953B02F9CEEA41AE92F75A1EB24DEDDC6218782EADD974D7C48B6B9AAB1A2C01D491E6986EFD9267B09E96548D254DF39BE1CD0BFE6B5BA8B5C19A89768D7603353D2C52DDEED4810DA7B46594D09EDB3573F0C01EDFCDFF11D2AF781695ACE47759A963F3344FE1E27FEF82DBFF1774114A45952F87DD1FCDB98B90D895C0512CE713BF84C3122B62E631847571EA39CD4DE9294FA371138A371B3505DAC99D0E4B7D27C0614E9359D5DC771D66D421B23CEAB435AB9CA826C5CA8F4A52ED2D8B7FD46B2ADF0DA369855A1E6EE89646F69C816AF70542B9B018B4B7D054AA9FA0D15751C90CB96E0702CBD5475D45528BE8E931DE9B4469DEFC48256FE1F94F8DF98E3162A418EDB7E23E14A783D94E396CD181C575D4AD5EF111CB76C09765CE9A5AAA3AE1CF73349C86342F64F7385AFB846CB890B6E4FF63ECABE7F359013D4B681FC407A298D945C62286F685A323884B6A0468111DCA2690CF60CE8BDA6C7AEFCE3286721BEC1C48FBF75F995848731F66A4A5C954B0FE512FF4B554058DC97CFE1657DF5D231C80BD930C0C5778A8EB902F61D7D5E0CA7C8BA5ACFC0A39302C3041CD3949EEBFC052ADB00465144C28DAA9C636C1F9B81A12DBC827BD811D86FD234DE06C7CE0851B3E651DBFABD8BFC9589542D30C6F39E0C6A87300BF661B0659DB8F0FE26D94D23B7D287937BE42E0599679EE87E37D1150D6946576FB6C58F2B9724DDB2F59FEC82ACF596B138B3E8AD05D0202ABD749C48A3190F01BCCD34640A4AF6E9C9C9990818B40D2072DB38B8109E1DE1067085E18D207035AA4EAA889BA67F258F65A1B882EDE164D6D3BF7B85A125B3A1A3DAC5B30343E896DB088C4D328FC87C944149BDFF74B6DD24BE23D025AA2EAAB893A67F259564A1B6827019D87734FC8BA1A348DFE96C8825FA8E4C091994D4FB4E67DB4DE23B32CBA2EAA58672697AD9105A16FAABA99A81FD48CFDC98BB8BF4A69E4659A24F817C925955BD67F5B4E324FED52241B4CB6F891111FA66BD9E175994567C2F48991920452265F43AE911D2D1505D913189C154DC844A452351D1687A64A52CAC67E236CCD3F7741644204E499CF4B4D8081351C1D6E446274144936AA74D3272CFF6F7C7C19008C8A2CE86666DAE8C75A3E17EC4D194146D8BA8621224A3895706213959030928481C43E5C69A1492C11BDB20A9D8E14042AADD9251403EE9C2028AE9D820A058274202AA35A741401D0B21195C74C5D854694D63F5DC07A0DA852F0995397CCBB06ACE6A72C554E739C58906C144D63D6F21796D21A9F26F4E52096771366B2B8A300274824A36838960C4528C9C026D97D25843C32A22C575300B785456030F551C40D38EDD4102C481E1EC221E06934DA2A320312424D7F77AAED49841413B72529A00E44A7BF0077AA5258C9B425B76B29B8574FB3F0CF8BA9B4BEF4206CE11C93A76B3C9A8AE231EC7924DA16320311C24D7F73AC86B8CA0601D87711DDD612FA525EC5C07414E76B3D004AE031C30535A09E53A6AD2B19B4D46751DE010976C0D03078964213925F875AEC6206ADE71184F321C14D319C6CE9F700C651F834DE058F011359DD150EEA5251FFB9868543F6B9FB5526C03401AD24C448ABD462CFA45EAB115E4CB5DB0239DF560D0B38B387EB18BFEA30EBEF2B4926C0F147968451F726A951B7B8D714C84E130F3AE74364A6117144C54A4A0BD1D06C1487550ABA6FEEA77E7EBE22A7AF9E07CADB8B37EFE91ECF7011B95A666F964B5292EB05F7EB7B1BF2FBE2B64ACB72DE38A4465DD5216B379940A6F7354F8F43A48D2ACA232BDD5A5BF938A2189CEAA3581EF94C7AD62AAAA0AF9FF8B4AC065FE13C52AA631E435D32D0F8B4735A90C7AB9E62AFF90000949029CEDBC8CC3C32E529D0F2DC65A6858D4702DA92871ED6D93A10CDA44FFBE1685AFE1A34CAAAEDACFA6AADAE5157C5E40F9082FA37D9F9E17D57E8397285FAAE7A5CA6F6783A1822DED8B1FF9AE3A0A3B7035958DCB1BEABC61C1BBEE3A19C5CD3A5E047443CF34D2B294E6295E5273159C97D43CC54B6AAE76F3929AA77849C2556D5E9CF06A36086E05F2BE40562F511070D655EE0FC889CC5B91867D2D0BDDFF46595555719121BBDA9DF5B726B4D3445913AEB8587C56CC5C5F8B42D79C511655555C243E3916A6AF4115776F5136D5D41D6655D9DC836A45D0FAE96C06A864489CC4B9AE216EAC4139DEF8E4AB1F1FE0EB9797377909E5A3D90C674165F41D4DF9B6236A30E16A036DDBF85B8EADCD1BFF62C90EDBA68CE09D7A73A006B71F6FCA63B7DD3909A6B8672F1E9A912D84DD76558214DBAFE3D1C14A4A87FE95941FB27F185CAA7B24527DD6430B1D13C2EE319A1AF8AD046040F53920A409E5455E25075EEC590EB0FAD853E7FE75E8179B64FCE3E4B07A9FE6F79BEBBBCD58BD7B43053C3A859C08F82A2EE602991CEF3C169C282770D11C061B654AC062C5A0776FB88827CA30FBEBA6346E1B0D981F3E37D6D1F29514EB1130F66B8E88506BEB0A0CE0C1061430C09A7D41A239A6D071602089EEC0A339AEB18CD50670701035FABAF0613BE8330E1DCA6390B39A26860E1CE2794A0CF1A50E1C30BF05181F3E35397DE080CF84CE0A1103060EDDF15214305081C316248B091CE6A3B3CB081CC0B159D4E8EB0287EDA0CF3870280F01CF6A9A183A7000A789911CBF3A7C28A97C6014940786A70F22CA73D1B302C88071C470B81A8B135434E98699C5C414D4F1F1658415F8D038160CBAE0D20D03330E31BA83F0B39A44868E32EDB3F408AEBC2E8BFA355245400B67E63BE3A214E38E1917EE032CC3F1E5CB019881D439BCDD60CED8D155171D9631B0CACB0EE69FA0C16A981F9D01231A6E32F45B103A8EE7862B1C0B1A77BC3F4BC5FB8CF38C9D59711DE5DB0AD8D2A516B1487D76A27C52FF5D5F6A292F9498B3334A374C8A22DE8A99E06BE0E7B74B362F69467727798193CD6FE165181C779655818F240A1E689ADDC5FFA6D185F7EAF4EC9590DFB143AEC5759AFA21707386FBA6F86409170F51F0DB8132D5598F1E82FC3B344B4FBE68A9912CEA8E4FC4187D25C9F689247FD991E7BF3A49AEE8B3FF672E932B7616281CB5692B2C6705B2942ECD1C78F9C5E7E63BE16ECACC86CE4C07D9AB1B009BBB232EA4890906FB49139306F693062602BC0FB26F2509A03370B58F218DE29453E5E7EB1D0A78CED32C52B6902C5145FB39EAF03493EE9439EC3AFAC5EC53D4FD81DD71B03B611AB7DE161333EC049129DCFD01933EE17F8110E1329BF55B5FB5B295F513D562B9E7B3EBE81325A6C909D67FAB2BE707EBB9A67737232D79FAE04831F1E0B929B556F16564E953C9437D7ABBD576F35967446E02F953D90CD634C90786846C0CF3AD5820DF84FA9C04D136D89390D757A63C913BF45CA15AA2F8E68AEE69942345540FD39CF11E522D5DB0AFC90A436718EBFC417285BC82F644C9740409ED8712707B082B5C08BA62DA34DD611A011C36A9D75CA3638A89626C5458CD16889F8646800432119D9811D42A454F4B52F5F57CE083FA836040FD752ECCD2CA6AF895DF14014285F628E078E36E9308C9CA83075A6E8C8D1E2B8F1E0F3EF89380E34169829832361AC68E27168898473441A66674174DAA4C28407294A54713E5178066184D3A64A89C4334191B3D6346130BF8CC2A9AE0D373BA8E2663A361EC686281887944137CB2527701854B8B0527CB5A7A58D17D076D8691A55BCED63904976990346688B183D2ACA28C55C25AD781661A648C1D6EECD0318F88A3CE9BD1DA75365785848C8EA34C2CC5EFCA1DF2E076828DF2D3AE43B1EAA8A60CB79E4683CA10B3C737019B497E9059D04C639BD6D962853B107E8A7CAD5CF3B864C8735F0F2B3E56AA5C0ACF62F9824D69ED7AE5322606C69E41D04098620279D7BE105543524C8F230E5C79FF4DB832A4C9F05D5C7FBAF0FCFB980D747188C536FDB736FB37D480556E70656A7048B265D27043CA70A805FEBDA19DEAB709A98DEA0524DF2ADBB826D9382CDB2211B9260F3924DB3647B93E4539D482650673750273E5B01A0517D39F24B7780C899D2CE939EF394DB21B79EA823814AE96D2536796D05C915B4DABB0787E0925612E29CBFBA93EF4583BCC462EC4B0561E359D8AEDC997FFD2A433F5864C376E3542632BAE07B24DE2F07E301E52558759C1BB42B81D87F96FDE39536FC8B4DFDD213C82E27A08DB24F0EE07E12155759E9DBB2B90A5459FF0892D97AA0E9C7BBB3BA8C734821EDD9629B4FB017C78B5DB1FE9522C29CDC9B1DB3B2A3E5B99711129DBC5995AFA91D493D2AED7CA83A8396876EBAE1316BFCF6B3E27E44859FD90E25355F71BD1BE2A5A64A2963FCE73BEBE3D44F907498ABFAE681A3C3622F2CF0E4574DBE2C4EA32EFA387B8E2E8841E554584EB5C1F69467C92913749163C906DC65E6F699A06D1A3B73A5E59CC2F0EDD53FF7D7473C8F6878CA94C77F7612BD7574EF1E9DA3FA6DB6EF7F9FC669FFF95BA50817533C8BFE17213BD3D04A15FF7FB1AB88FA8109173873F53F6BC18CBFC2318F4F1A596F4298E90824AF3D594E71DDDED43262CBD8936E42B55F7CD6CC3B6C5CEAF823C46ECD25246539FFDC9E0E7EF9E7FFC3FF1C5DE3022BC0000 , N'6.0.0-20911')

